{
  "hash": "27abfa1f60c4d3406e80dfefc2da41fa",
  "result": {
    "markdown": "---\ntitle: \"Challenge 4\"\nauthor: \"Shantanu Patil\"\ndescription: \"More data wrangling: pivoting\"\ndate: \"03/26/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  identify variables that need to be mutated\n4)  mutate variables and sanity check all mutations\n\n## Read in data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Read in data\npoul <- read_csv(\"_data/poultry_tidy.csv\")\n\n## Sample a few data points\npoul_sample <- poul[sample(nrow(poul), 10), ]\nprint(poul_sample)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 4\n   Product         Year Month    Price_Dollar\n   <chr>          <dbl> <chr>           <dbl>\n 1 Whole           2010 February         2.48\n 2 Whole           2004 January          1.98\n 3 B/S Breast      2005 August           6.46\n 4 Bone-in Breast  2013 April            3.90\n 5 B/S Breast      2013 August           7.04\n 6 Bone-in Breast  2009 May              3.90\n 7 Bone-in Breast  2010 May              3.90\n 8 B/S Breast      2006 January          6.46\n 9 Whole Legs      2013 April            2.04\n10 Bone-in Breast  2013 March            3.90\n```\n:::\n\n```{.r .cell-code}\n## Calculate product counts\nproduct_counts <- table(select(poul, Product))\nprint(product_counts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nProduct\n    B/S Breast Bone-in Breast         Thighs          Whole     Whole Legs \n           120            120            120            120            120 \n```\n:::\n:::\n\n\n### Briefly describe the data\n\nGiven the Product, Year, and Month, this dataset describes the price of poultry meat. We can see that there are five different types of meat.\n\n## Tidy Data (as needed)\nThe data already tidy.\n\n\n## Identify variables that need to be mutated\n\nThe 'Product' and 'Month' categories must be converted to <dbl> (double) data types so that we can perform numerical operations on them more easily. For example, converting the Month category to a numeric data type would allow us to perform month-to-month comparisons while accounting for the new year's rollover.   We should also add a 'Date' column based on the 'Month' and'Year' columns. This will simplify data visualization and analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Assign product IDs\npoul_mut <- poul %>%\n  mutate(Product_ID = recode(Product, \"B/S Breast\" = 1, \n                             \"Bone-in Breast\" = 2, \n                             \"Thighs\" = 3, \n                             \"Whole\" = 4, \n                             \"Whole Legs\" = 5))\n\n# Convert month names to month numbers\npoul_mut <- poul_mut %>%\n  mutate(Month_num = recode(Month, \"January\" = 1, \"February\" = 2, \"March\" = 3, \n                            \"April\" = 4, \"May\" = 5, \"June\" = 6, \"July\" = 7, \n                            \"August\" = 8, \"September\" = 9, \"October\" = 10, \n                            \"November\" = 11, \"December\" = 12))\n\n# Create Date column based on Year and Month_num\npoul_mut <- poul_mut %>%\n  mutate(Date = make_date(Year, Month_num))\n\n# Display a sample of the modified data\npoul_mut[sample(nrow(poul_mut), 10), ]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 7\n   Product         Year Month     Price_Dollar Product_ID Month_num Date      \n   <chr>          <dbl> <chr>            <dbl>      <dbl>     <dbl> <date>    \n 1 Thighs          2013 July              2.16          3         7 2013-07-01\n 2 B/S Breast      2008 August            6.46          1         8 2008-08-01\n 3 Thighs          2007 October           2.22          3        10 2007-10-01\n 4 Thighs          2012 May               2.15          3         5 2012-05-01\n 5 B/S Breast      2012 November          7.04          1        11 2012-11-01\n 6 Thighs          2004 November          2.00          3        11 2004-11-01\n 7 Bone-in Breast  2008 September         3.90          2         9 2008-09-01\n 8 B/S Breast      2004 April             6.42          1         4 2004-04-01\n 9 Whole           2009 January           2.48          4         1 2009-01-01\n10 Whole Legs      2005 February          2.04          5         2 2005-02-01\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}