{
  "hash": "f9a14f4e45b69ab7f8eb402e9b3fd4a3",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2: Railroad Wrangling\"\nauthor: \"Daniel Hannon\"\ndesription: \"\"\ndate: \"03/07/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - Daniel Hannon\n  - railroads\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n# Reading in the Data\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad_data <- readxl::read_excel(\"_data/StateCounty2012.xls\")\nslice(railroad_data, 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 6\n  `TOTAL RAILROAD EMPLOYMENT BY STATE AND COUNTY` ...2  ...3  ...4  ...5  ...6 \n  <chr>                                           <chr> <lgl> <chr> <lgl> <chr>\n1 CALENDAR YEAR 2012                              <NA>  NA    <NA>  NA    <NA> \n```\n:::\n:::\n\nLooking at the original spreadsheet, we can see based on the title that this data is about the number of railroad employees in the United states, categorized by state and county. The data does not start until line 3 and columns 2 and 4 contain no information, so we can read in the data, skip the first two rows and select out the empty columns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad_data <-readxl::read_excel(\"_data/StateCounty2012.xls\", skip= 3) %>%\n                select(STATE, COUNTY, TOTAL)\nhead(railroad_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  STATE     COUNTY               TOTAL\n  <chr>     <chr>                <dbl>\n1 AE        APO                      2\n2 AE Total1 <NA>                     2\n3 AK        ANCHORAGE                7\n4 AK        FAIRBANKS NORTH STAR     2\n5 AK        JUNEAU                   3\n6 AK        MATANUSKA-SUSITNA        2\n```\n:::\n:::\n\nWe can see that each observation is the number of railway workers for a given county in 2012. However, there also contains observations about the total for each state. These observations contain an N/A in the county space and use the word Total in the state column. We can filter these out to have a data frame for all the state totals and one for all the unique counties.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#A data frame of just totals\nstate_totals <- railroad_data %>%\n                filter(grepl(\"Total\", STATE)) %>%\n                select(!COUNTY)\n\n#A data frame of no totals \nremoved_state_totals <- railroad_data %>%\n                        filter(!grepl(\"Total\", STATE))\n\nstate_totals\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 54 × 2\n   STATE     TOTAL\n   <chr>     <dbl>\n 1 AE Total1     2\n 2 AK Total    103\n 3 AL Total   4257\n 4 AP Total1     1\n 5 AR Total   3871\n 6 AZ Total   3153\n 7 CA Total  13137\n 8 CO Total   3650\n 9 CT Total   2592\n10 DC Total    279\n# … with 44 more rows\n```\n:::\n:::\n\nThe State totals should only have 50 observations, because there are only 50 states, but there is are 54. This is because Armed Forces Pacific, Armed Forces Europe, DC and the Grand Total are all saved in the frame. For the purposes of gaining insights about state totals specifically, these will be filtered out of the state_totals tibble before descriptive statistics are done. \n\n::: {.cell}\n\n```{.r .cell-code}\nstate_totals <- state_totals %>%\n                filter(!STATE %in% c(\"AE Total1\", \"AP Total1\", \"DC Total\", \"Grand Total\"))\n```\n:::\n\n# Summary Statistics \n\ntest test test test test test \n",
    "supporting": [
      "DanielHannon_challenge2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}