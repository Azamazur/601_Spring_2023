<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Justine Shakespeare">
<meta name="dcterms.date" content="2023-03-01">

<title>Challenge 2 - FAOStat Cattle &amp; Dairy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="Challenge 2 - FAOStat Cattle &amp; Dairy">
<meta name="twitter:description" content="First we’ll load the tidyverse package and read in the data. We’ll focus on the FAOStat data on cattle and dairy.">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/DACSS">
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#loading-and-cleaning-the-data" id="toc-loading-and-cleaning-the-data" class="nav-link active" data-scroll-target="#loading-and-cleaning-the-data">Loading and cleaning the data</a></li>
  <li><a href="#data-exploration-and-analysis" id="toc-data-exploration-and-analysis" class="nav-link" data-scroll-target="#data-exploration-and-analysis">Data exploration and analysis</a></li>
  <li><a href="#conclusion-and-further-research" id="toc-conclusion-and-further-research" class="nav-link" data-scroll-target="#conclusion-and-further-research">Conclusion and further research</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Challenge 2 - FAOStat Cattle &amp; Dairy</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">challenge_2</div>
    <div class="quarto-category">faostat</div>
    <div class="quarto-category">Justine Shakespeare</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Justine Shakespeare </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 1, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="loading-and-cleaning-the-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-and-cleaning-the-data">Loading and cleaning the data</h2>
<p>First we’ll load the tidyverse package and read in the data. We’ll focus on the FAOStat data on cattle and dairy.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>FAOCD <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/FAOSTAT_cattle_dairy.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This data includes quantities of specific cattle and dairy elements (Milk Animals, Yield, and Production) organized by geographical region (including countries, regions, and continents) and year. A more detailed description of the variables in this dataset is provided below.</p>
<p>Let’s take a look at the dataset with the head() and dim() functions.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(FAOCD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36449    14</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 14
  Domai…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year Unit 
  &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
1 QL      Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961 Head 
2 QL      Lives…       2 Afgh…    5420 Yield       882 Milk…    1961  1961 hg/An
3 QL      Lives…       2 Afgh…    5510 Produc…     882 Milk…    1961  1961 tonn…
4 QL      Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1962  1962 Head 
5 QL      Lives…       2 Afgh…    5420 Yield       882 Milk…    1962  1962 hg/An
6 QL      Lives…       2 Afgh…    5510 Produc…     882 Milk…    1962  1962 tonn…
# … with 3 more variables: Value &lt;dbl&gt;, Flag &lt;chr&gt;, `Flag Description` &lt;chr&gt;,
#   and abbreviated variable names ¹​`Domain Code`, ²​`Area Code`,
#   ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`</code></pre>
</div>
</div>
<p>The results of these functions tell us that we have a dataset with over 36,000 observations (rows) and 14 variables (columns). It looks like some of these columns contain redundant information (such as many of the columns with “Code” in the name) and/or they have the same value for all observations (indicating that they were likely taken from a larger dataset). Let’s use the unique() function to determine if any of these columns hold just one value, in which case we can remove them for our analysis and keep this information as metadata for this dataset.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span>Domain)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Livestock Primary"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span><span class="st">`</span><span class="at">Domain Code</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "QL"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span><span class="st">`</span><span class="at">Item Code</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 882</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span>Item)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Milk, whole fresh cow"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span>Flag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "F"  "Fc" NA   "*"  "Im" "M"  "A" </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span><span class="st">`</span><span class="at">Flag Description</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "FAO estimate"                                                                
[2] "Calculated data"                                                             
[3] "Official data"                                                               
[4] "Unofficial figure"                                                           
[5] "FAO data based on imputation methodology"                                    
[6] "Data not available"                                                          
[7] "Aggregate, may include official, semi-official, estimated or calculated data"</code></pre>
</div>
</div>
<p>The first four of these columns contain just one value for all observations, so we can remove them when we trim down the dataset. Let’s use the <code>group_by()</code>, <code>count()</code>, and <code>head()</code> functions to take a closer look at the relationship between the variables, <em>Flag</em> and <em>Flag Description</em>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>flagCheck <span class="ot">&lt;-</span> FAOCD <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Flag) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Flag Description</span><span class="st">`</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flagCheck, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
# Groups:   Flag [7]
  Flag  `Flag Description`                                                     n
  &lt;chr&gt; &lt;chr&gt;                                                              &lt;int&gt;
1 *     Unofficial figure                                                    810
2 A     Aggregate, may include official, semi-official, estimated or calc…  3070
3 F     FAO estimate                                                        7045
4 Fc    Calculated data                                                    13136
5 Im    FAO data based on imputation methodology                            2270
6 M     Data not available                                                    74
7 &lt;NA&gt;  Official data                                                      10044</code></pre>
</div>
</div>
<p>As implied by the names of these variables, the values in the Flag and Flag Description columns are directly related - Flag Description describes the notation in the Flag column. It looks as if these variables provide information about the source of the data in each relevant observation. In the interest of managing fewer variables while also not wanting to lose important context, let’s drop Flag and keep the Flag Description variable.</p>
<p>But before we remove any columns, let’s take a closer look at the relationship between the <em>Element</em>, <em>Value</em> and <em>Unit</em> variables. We assume that Unit describes the unit of measurement for the quantities in the Value column. We can use the <code>group_by()</code> and <code>count()</code> function to explore the relationship between Element and Unit.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>variableCheck <span class="ot">&lt;-</span> FAOCD <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Element) <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Unit</span><span class="st">`</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(variableCheck, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
# Groups:   Element [3]
  Element      Unit       n
  &lt;chr&gt;        &lt;chr&gt;  &lt;int&gt;
1 Milk Animals Head   12158
2 Production   tonnes 12170
3 Yield        hg/An  12121</code></pre>
</div>
</div>
<p>It looks as if there are three values repeated in the Element column: Milk Animals, Production, and Yield. And each of these values corresponds to a particular Unit: Head, tonnes, and hg/An, respectively. Because of this relationship, if we’d like to reduce the number of variables we’re dealing with we could create columns for each Element, and note the unit in the column name, rather than have a separate column for this information.</p>
<p>First, let’s use the <code>select()</code> function to create a new dataframe that removes all of the columns we have decided we don’t need: the columns with “Code” in the name, the columns with only one value throughout the dataset, the Flag column, and finally the Unit column. We’ll use <code>head()</code> to check out our new dataframe.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>FAOCD_subset <span class="ot">&lt;-</span> <span class="fu">select</span>(FAOCD, Area, Element, Year, Value, <span class="st">`</span><span class="at">Flag Description</span><span class="st">`</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_subset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  Area        Element       Year  Value `Flag Description`
  &lt;chr&gt;       &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;             
1 Afghanistan Milk Animals  1961 700000 FAO estimate      
2 Afghanistan Yield         1961   5000 Calculated data   
3 Afghanistan Production    1961 350000 FAO estimate      
4 Afghanistan Milk Animals  1962 700000 FAO estimate      
5 Afghanistan Yield         1962   5000 Calculated data   
6 Afghanistan Production    1962 350000 FAO estimate      </code></pre>
</div>
</div>
<p>Now let’s use <code>pivot_wider()</code> to create columns for each of the values listed in the Elements column. Then we can use the <code>rename()</code> function to rename each of those columns to specify the unit (originally stored in the Unit column). We’ll use <code>head()</code> to take a look at the final dataframe.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>FAOCD_Pivot <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(FAOCD_subset, <span class="at">names_from=</span>Element, <span class="at">values_from =</span> Value)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>FAOCD_Tidy <span class="ot">&lt;-</span> <span class="fu">rename</span>(FAOCD_Pivot, <span class="st">"Milk Animals (Head)"</span> <span class="ot">=</span> <span class="st">"Milk Animals"</span>, <span class="st">"Yield (hg/An)"</span> <span class="ot">=</span> <span class="st">"Yield"</span>, <span class="st">"Production (tonnes)"</span> <span class="ot">=</span> <span class="st">"Production"</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_Tidy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  Area         Year `Flag Description` `Milk Animals (Head)` Yield (hg…¹ Produ…²
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;                              &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;
1 Afghanistan  1961 FAO estimate                      700000          NA  350000
2 Afghanistan  1961 Calculated data                       NA        5000      NA
3 Afghanistan  1962 FAO estimate                      700000          NA  350000
4 Afghanistan  1962 Calculated data                       NA        5000      NA
5 Afghanistan  1963 FAO estimate                      780000          NA  400000
6 Afghanistan  1963 Calculated data                       NA        5128      NA
# … with abbreviated variable names ¹​`Yield (hg/An)`, ²​`Production (tonnes)`</code></pre>
</div>
</div>
<p>Now that we’ve transformed our data and made it easier to deal with, we can begin the analysis and exploration of the data itself.</p>
</section>
<section id="data-exploration-and-analysis" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration-and-analysis">Data exploration and analysis</h2>
<p>Let’s get a sense of the data we have in this new dataframe with the <code>glimpse()</code> function.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(FAOCD_Tidy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 27,102
Columns: 6
$ Area                  &lt;chr&gt; "Afghanistan", "Afghanistan", "Afghanistan", "Af…
$ Year                  &lt;dbl&gt; 1961, 1961, 1962, 1962, 1963, 1963, 1964, 1964, …
$ `Flag Description`    &lt;chr&gt; "FAO estimate", "Calculated data", "FAO estimate…
$ `Milk Animals (Head)` &lt;dbl&gt; 700000, NA, 700000, NA, 780000, NA, 780000, NA, …
$ `Yield (hg/An)`       &lt;dbl&gt; NA, 5000, NA, 5000, NA, 5128, NA, 5128, NA, 5172…
$ `Production (tonnes)` &lt;dbl&gt; 350000, NA, 350000, NA, 400000, NA, 400000, NA, …</code></pre>
</div>
</div>
<p>Note that we went from over 36,000 rows to just over 27,000, and 14 columns to 6.</p>
<p>The variables we have remaining include four double (numeric) variables, including <em>Year</em>, and the three variables we transformed using <code>pivot_wider()</code>: <em>Milk Animals (Head)</em>, <em>Yield (hg/An)</em>, and <em>Production (tonnes)</em>. Presumably this data describes the quantity of these elements (Milk Animals, Yield and Production) for each indicated year and region. Let’s use the <code>range()</code> function to see what time period this data covers.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(FAOCD_Tidy<span class="sc">$</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1961 2018</code></pre>
</div>
</div>
<p>This data covers a little less than the past 60 years or so, with the last 5 years (since 2018) not included.</p>
<p>This dataframe also includes two character variables, <em>Area</em> and <em>Flag Description</em>. We have already discussed what the Flag Description variable tells us; since we’re interested in comparing across countries and regions, let’s use the <code>unique()</code> function to see what is in the <em>Area</em> column.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD_Tidy<span class="sc">$</span>Area)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "Afghanistan"                                         
  [2] "Albania"                                             
  [3] "Algeria"                                             
  [4] "American Samoa"                                      
  [5] "Angola"                                              
  [6] "Antigua and Barbuda"                                 
  [7] "Argentina"                                           
  [8] "Armenia"                                             
  [9] "Australia"                                           
 [10] "Austria"                                             
 [11] "Azerbaijan"                                          
 [12] "Bahamas"                                             
 [13] "Bahrain"                                             
 [14] "Bangladesh"                                          
 [15] "Barbados"                                            
 [16] "Belarus"                                             
 [17] "Belgium"                                             
 [18] "Belgium-Luxembourg"                                  
 [19] "Belize"                                              
 [20] "Benin"                                               
 [21] "Bermuda"                                             
 [22] "Bhutan"                                              
 [23] "Bolivia (Plurinational State of)"                    
 [24] "Bosnia and Herzegovina"                              
 [25] "Botswana"                                            
 [26] "Brazil"                                              
 [27] "British Virgin Islands"                              
 [28] "Brunei Darussalam"                                   
 [29] "Bulgaria"                                            
 [30] "Burkina Faso"                                        
 [31] "Burundi"                                             
 [32] "Cabo Verde"                                          
 [33] "Cambodia"                                            
 [34] "Cameroon"                                            
 [35] "Canada"                                              
 [36] "Central African Republic"                            
 [37] "Chad"                                                
 [38] "Chile"                                               
 [39] "China, Hong Kong SAR"                                
 [40] "China, mainland"                                     
 [41] "China, Taiwan Province of"                           
 [42] "Colombia"                                            
 [43] "Comoros"                                             
 [44] "Congo"                                               
 [45] "Costa Rica"                                          
 [46] "Côte d'Ivoire"                                       
 [47] "Croatia"                                             
 [48] "Cuba"                                                
 [49] "Cyprus"                                              
 [50] "Czechia"                                             
 [51] "Czechoslovakia"                                      
 [52] "Democratic People's Republic of Korea"               
 [53] "Democratic Republic of the Congo"                    
 [54] "Denmark"                                             
 [55] "Djibouti"                                            
 [56] "Dominica"                                            
 [57] "Dominican Republic"                                  
 [58] "Ecuador"                                             
 [59] "Egypt"                                               
 [60] "El Salvador"                                         
 [61] "Eritrea"                                             
 [62] "Estonia"                                             
 [63] "Eswatini"                                            
 [64] "Ethiopia"                                            
 [65] "Ethiopia PDR"                                        
 [66] "Falkland Islands (Malvinas)"                         
 [67] "Fiji"                                                
 [68] "Finland"                                             
 [69] "France"                                              
 [70] "French Guyana"                                       
 [71] "French Polynesia"                                    
 [72] "Gabon"                                               
 [73] "Gambia"                                              
 [74] "Georgia"                                             
 [75] "Germany"                                             
 [76] "Ghana"                                               
 [77] "Greece"                                              
 [78] "Grenada"                                             
 [79] "Guadeloupe"                                          
 [80] "Guatemala"                                           
 [81] "Guinea"                                              
 [82] "Guinea-Bissau"                                       
 [83] "Guyana"                                              
 [84] "Haiti"                                               
 [85] "Honduras"                                            
 [86] "Hungary"                                             
 [87] "Iceland"                                             
 [88] "India"                                               
 [89] "Indonesia"                                           
 [90] "Iran (Islamic Republic of)"                          
 [91] "Iraq"                                                
 [92] "Ireland"                                             
 [93] "Israel"                                              
 [94] "Italy"                                               
 [95] "Jamaica"                                             
 [96] "Japan"                                               
 [97] "Jordan"                                              
 [98] "Kazakhstan"                                          
 [99] "Kenya"                                               
[100] "Kuwait"                                              
[101] "Kyrgyzstan"                                          
[102] "Lao People's Democratic Republic"                    
[103] "Latvia"                                              
[104] "Lebanon"                                             
[105] "Lesotho"                                             
[106] "Liberia"                                             
[107] "Libya"                                               
[108] "Liechtenstein"                                       
[109] "Lithuania"                                           
[110] "Luxembourg"                                          
[111] "Madagascar"                                          
[112] "Malawi"                                              
[113] "Malaysia"                                            
[114] "Mali"                                                
[115] "Malta"                                               
[116] "Martinique"                                          
[117] "Mauritania"                                          
[118] "Mauritius"                                           
[119] "Mexico"                                              
[120] "Mongolia"                                            
[121] "Montenegro"                                          
[122] "Montserrat"                                          
[123] "Morocco"                                             
[124] "Mozambique"                                          
[125] "Myanmar"                                             
[126] "Namibia"                                             
[127] "Nepal"                                               
[128] "Netherlands"                                         
[129] "Netherlands Antilles (former)"                       
[130] "New Caledonia"                                       
[131] "New Zealand"                                         
[132] "Nicaragua"                                           
[133] "Niger"                                               
[134] "Nigeria"                                             
[135] "Niue"                                                
[136] "North Macedonia"                                     
[137] "Norway"                                              
[138] "Oman"                                                
[139] "Pakistan"                                            
[140] "Palestine"                                           
[141] "Panama"                                              
[142] "Papua New Guinea"                                    
[143] "Paraguay"                                            
[144] "Peru"                                                
[145] "Philippines"                                         
[146] "Poland"                                              
[147] "Portugal"                                            
[148] "Puerto Rico"                                         
[149] "Qatar"                                               
[150] "Republic of Korea"                                   
[151] "Republic of Moldova"                                 
[152] "Réunion"                                             
[153] "Romania"                                             
[154] "Russian Federation"                                  
[155] "Rwanda"                                              
[156] "Saint Lucia"                                         
[157] "Saint Vincent and the Grenadines"                    
[158] "Samoa"                                               
[159] "Sao Tome and Principe"                               
[160] "Saudi Arabia"                                        
[161] "Senegal"                                             
[162] "Serbia"                                              
[163] "Serbia and Montenegro"                               
[164] "Seychelles"                                          
[165] "Sierra Leone"                                        
[166] "Slovakia"                                            
[167] "Slovenia"                                            
[168] "Solomon Islands"                                     
[169] "Somalia"                                             
[170] "South Africa"                                        
[171] "South Sudan"                                         
[172] "Spain"                                               
[173] "Sri Lanka"                                           
[174] "Sudan"                                               
[175] "Sudan (former)"                                      
[176] "Suriname"                                            
[177] "Sweden"                                              
[178] "Switzerland"                                         
[179] "Syrian Arab Republic"                                
[180] "Tajikistan"                                          
[181] "Thailand"                                            
[182] "Togo"                                                
[183] "Tonga"                                               
[184] "Trinidad and Tobago"                                 
[185] "Tunisia"                                             
[186] "Turkey"                                              
[187] "Turkmenistan"                                        
[188] "Uganda"                                              
[189] "Ukraine"                                             
[190] "United Arab Emirates"                                
[191] "United Kingdom of Great Britain and Northern Ireland"
[192] "United Republic of Tanzania"                         
[193] "United States of America"                            
[194] "United States Virgin Islands"                        
[195] "Uruguay"                                             
[196] "USSR"                                                
[197] "Uzbekistan"                                          
[198] "Vanuatu"                                             
[199] "Venezuela (Bolivarian Republic of)"                  
[200] "Viet Nam"                                            
[201] "Wallis and Futuna Islands"                           
[202] "Yemen"                                               
[203] "Yugoslav SFR"                                        
[204] "Zambia"                                              
[205] "Zimbabwe"                                            
[206] "World"                                               
[207] "Africa"                                              
[208] "Eastern Africa"                                      
[209] "Middle Africa"                                       
[210] "Northern Africa"                                     
[211] "Southern Africa"                                     
[212] "Western Africa"                                      
[213] "Americas"                                            
[214] "Northern America"                                    
[215] "Central America"                                     
[216] "Caribbean"                                           
[217] "South America"                                       
[218] "Asia"                                                
[219] "Central Asia"                                        
[220] "Eastern Asia"                                        
[221] "Southern Asia"                                       
[222] "South-eastern Asia"                                  
[223] "Western Asia"                                        
[224] "Europe"                                              
[225] "Eastern Europe"                                      
[226] "Northern Europe"                                     
[227] "Southern Europe"                                     
[228] "Western Europe"                                      
[229] "Oceania"                                             
[230] "Australia and New Zealand"                           
[231] "Melanesia"                                           
[232] "Polynesia"                                           </code></pre>
</div>
</div>
<p>Without going through this list exhaustively, it looks as if this variable contains all countries in the world, some historic geopolitical areas (such as “Sudan (former)” or “USSR”) and larger regions of the world (such as “World”, “Africa”, and subsets of continents, such as “Caribbean”, “Central Asia”, etc.).</p>
<section id="cattle-and-dairy-production-by-continent" class="level4">
<h4 class="anchored" data-anchor-id="cattle-and-dairy-production-by-continent">Cattle and dairy production by continent</h4>
<p>Let’s first explore what this data can tell us about cattle and dairy production as a high level, let’s create a dataframe with just the continents, using the <code>filter()</code> function. We’ll use the <code>table()</code> function to check out how many observations we have for each continent in our resulting dataframe.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>FAOCD_Continents <span class="ot">&lt;-</span> FAOCD_Tidy <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Area <span class="sc">==</span> <span class="st">"Oceania"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Europe"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Asia"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"South America"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Northern America"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(FAOCD_Continents<span class="sc">$</span>Area)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
          Africa             Asia           Europe Northern America 
             116              116              116              116 
         Oceania    South America 
             116              116 </code></pre>
</div>
</div>
<p>Let’s take a look at the continents with the highest level of mean production since 2010, as well as the standard deviation and the median. To be able to better compare standard deviations across different continents, let’s calculate a standard deviation proportion variable, which will show the standard deviation as a proportion of the mean. We can use the <code>filter()</code>, <code>group_by()</code>, <code>summarize()</code>, and <code>arrange()</code> functions to create this table.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>FAOCD_Continents_Since2010 <span class="ot">&lt;-</span> FAOCD_Continents <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Area) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Mean Production"</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Standard Deviation of Production"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"SD Proportion"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Median Production"</span> <span class="ot">=</span> <span class="fu">median</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Mean Production</span><span class="st">`</span>))</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_Continents_Since2010, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  Area             `Mean Production` Standard Deviation of Pro…¹ SD Pr…² Media…³
  &lt;chr&gt;                        &lt;dbl&gt;                       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Europe                  215588432.                    5307525.  0.0246  2.18e8
2 Asia                    189924225.                   14421624.  0.0759  1.89e8
3 Northern America        102217738.                    3168627.  0.0310  1.02e8
4 South America            62636485.                    1524029.  0.0243  6.24e7
5 Africa                   36103158.                     693762.  0.0192  3.63e7
6 Oceania                  29973059.                    1761488.  0.0588  3.07e7
# … with abbreviated variable names ¹​`Standard Deviation of Production`,
#   ²​`SD Proportion`, ³​`Median Production`</code></pre>
</div>
</div>
<p>This table shows that since 2010 Europe has had the highest mean production levels, followed by Asia and Northern America. Europe also has the highest median production levels. It is interesting to note that the standard deviation is highest for Asia, indicating that production levels vary more each year in Asia than they do in the other continents.</p>
<p>To get a sense of how things have changed, let’s take a look at the same metrics before 1980.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>FAOCD_Continents_Before1980 <span class="ot">&lt;-</span> FAOCD_Continents <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&lt;</span> <span class="dv">1980</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Area) <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Mean Production"</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Standard Deviation of Production"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"SD Proportion"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Median Production"</span> <span class="ot">=</span> <span class="fu">median</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Mean Production</span><span class="st">`</span>))</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_Continents_Before1980, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  Area             `Mean Production` Standard Deviation of Pro…¹ SD Pr…² Media…³
  &lt;chr&gt;                        &lt;dbl&gt;                       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Europe                  224168181.                   24023230.  0.107   2.24e8
2 Northern America         62709675.                    1896295.  0.0302  6.25e7
3 Asia                     26875055.                    4828728.  0.180   2.62e7
4 South America            18831641.                    2948457.  0.157   1.83e7
5 Oceania                  12897186.                     691680.  0.0536  1.30e7
6 Africa                    9251734.                    1041579.  0.113   9.45e6
# … with abbreviated variable names ¹​`Standard Deviation of Production`,
#   ²​`SD Proportion`, ³​`Median Production`</code></pre>
</div>
</div>
<p>This table shows data from 1961 to 1979, more than 30 years earlier than the data from the previous table we looked at (data since 2010). While most of the continents are ranked similarly to how they are in the more recent data, this new table shows us that North America used to produce more on average than Asia, and that Oceania used to produce more on average than Africa. In this dataset most of the continents have a higher standard deviation than they do in the more recent dataset, indicating that the variability of production over the years was higher back then than it has been in recent years.</p>
<p>Finally, let’s take a closer look at the larger dataset that includes countries, to see which countries have higher mean production levels in recent years. While we won’t try to do an exhaustive cleaning of this data for this assignment, let’s at least remove some of the higher level geographical observations in the Area variable, including “World” and the continents, so it’s easier to focus on the countries in our analysis.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>FAOCD_PrimarilyCountries <span class="ot">&lt;-</span> FAOCD_Tidy <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Area <span class="sc">!=</span> <span class="st">"World"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Oceania"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Europe"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Asia"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"South America"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Northern America"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Africa"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Americas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s check out the countries and smaller regions with the highest mean production levels. We’ll use the <code>filter()</code>, <code>group_by()</code>, <code>summarize()</code>, and <code>arrange()</code> functions to create this table.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>FAOCD_PrimarilyCountries_Since2010 <span class="ot">&lt;-</span> FAOCD_PrimarilyCountries <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Area) <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Mean Production"</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Standard Deviation of Production"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"SD Proportion"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Median Production"</span> <span class="ot">=</span> <span class="fu">median</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Mean Production</span><span class="st">`</span>))</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_PrimarilyCountries_Since2010, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
   Area                     `Mean Production` Standard Deviati…¹ SD Pr…² Media…³
   &lt;chr&gt;                                &lt;dbl&gt;              &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Southern Asia                    96623566.          13094625. 0.136    9.51e7
 2 United States of America         94026020.           3455285. 0.0367   9.40e7
 3 Western Europe                   80955426.           3030278. 0.0374   8.14e7
 4 Eastern Europe                   72396074             545233. 0.00753  7.24e7
 5 India                            71425625           11766081. 0.165    7.00e7
 6 Eastern Asia                     44241353.           3078035. 0.0696   4.40e7
 7 Northern Europe                  36679892.           1846617. 0.0503   3.70e7
 8 China, mainland                  33768088.           3164112. 0.0937   3.36e7
 9 Brazil                           33652779.           1058081. 0.0314   3.38e7
10 Germany                          31966846            1041304. 0.0326   3.25e7
# … with abbreviated variable names ¹​`Standard Deviation of Production`,
#   ²​`SD Proportion`, ³​`Median Production`</code></pre>
</div>
</div>
<p>Unsurprisingly, there are a lot of smaller geographical regions showing up at the top of this list. If we had more time we would thoroughly clean this data by comparing the list of countries in the Area column to a list of current countries in the world and remove all values that didn’t match. But for now we can still see that there are a few countries showing up even in this list of the top ten, including the United States, India, mainland China, and Brazil. India looks to have a considerably higher standard deviation than the other countries on this list.</p>
</section>
</section>
<section id="conclusion-and-further-research" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-and-further-research">Conclusion and further research</h2>
<p>As noted several times in this analysis, with more time I would more thoroughly clean the Area variable, so that we could more easily create tables focused on just countries, geographical regions, or continents. I also did not research the original dataset as thoroughly as I would have liked to, which would provide more information about each variable (specifically the Milk Animals, Production, and Yield) and provide more nuance to these findings.</p>
<p>There are so many different ways you could explore this data! Another area that would be worth exploring is the change over time of production and how this varies across countries and regions. Visualization could be used to better illustrate any patterns and trends discovered in the data.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Spring_2023" data-repo-id="R_kgDOI4JcJA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb42" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Challenge 2 - FAOStat Cattle &amp; Dairy"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Justine Shakespeare"</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="an">desription:</span><span class="co"> "Data wrangling: using group() and summarise()"</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "03/1/2023"</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - challenge_2</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - faostat</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - Justine Shakespeare</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## Loading and cleaning the data </span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>First we'll load the tidyverse package and read in the data. We'll focus on the FAOStat data on cattle and dairy.</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo=TRUE}</span></span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>FAOCD <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/FAOSTAT_cattle_dairy.csv"</span>)</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>This data includes quantities of specific cattle and dairy elements (Milk Animals, Yield, and Production) organized by geographical region (including countries, regions, and continents) and year. A more detailed description of the variables in this dataset is provided below.</span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>Let's take a look at the dataset with the head() and dim() functions.</span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(FAOCD)</span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD)</span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-50"><a href="#cb42-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-51"><a href="#cb42-51" aria-hidden="true" tabindex="-1"></a>The results of these functions tell us that we have a dataset with over 36,000 observations (rows) and 14 variables (columns). It looks like some of these columns contain redundant information (such as many of the columns with "Code" in the name) and/or they have the same value for all observations (indicating that they were likely taken from a larger dataset). Let's use the unique() function to determine if any of these columns hold just one value, in which case we can remove them for our analysis and keep this information as metadata for this dataset.</span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span>Domain)</span>
<span id="cb42-57"><a href="#cb42-57" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span><span class="st">`</span><span class="at">Domain Code</span><span class="st">`</span>)</span>
<span id="cb42-58"><a href="#cb42-58" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span><span class="st">`</span><span class="at">Item Code</span><span class="st">`</span>)</span>
<span id="cb42-59"><a href="#cb42-59" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span>Item)</span>
<span id="cb42-60"><a href="#cb42-60" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span>Flag)</span>
<span id="cb42-61"><a href="#cb42-61" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD<span class="sc">$</span><span class="st">`</span><span class="at">Flag Description</span><span class="st">`</span>)</span>
<span id="cb42-62"><a href="#cb42-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-63"><a href="#cb42-63" aria-hidden="true" tabindex="-1"></a>The first four of these columns contain just one value for all observations, so we can remove them when we trim down the dataset. Let's use the <span class="in">`group_by()`</span>, <span class="in">`count()`</span>, and <span class="in">`head()`</span> functions to take a closer look at the relationship between the variables, *Flag* and *Flag Description*. </span>
<span id="cb42-64"><a href="#cb42-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-67"><a href="#cb42-67" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-68"><a href="#cb42-68" aria-hidden="true" tabindex="-1"></a>flagCheck <span class="ot">&lt;-</span> FAOCD <span class="sc">%&gt;%</span> </span>
<span id="cb42-69"><a href="#cb42-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Flag) <span class="sc">%&gt;%</span> </span>
<span id="cb42-70"><a href="#cb42-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Flag Description</span><span class="st">`</span>)</span>
<span id="cb42-71"><a href="#cb42-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-72"><a href="#cb42-72" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flagCheck, <span class="dv">10</span>)</span>
<span id="cb42-73"><a href="#cb42-73" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-74"><a href="#cb42-74" aria-hidden="true" tabindex="-1"></a>As implied by the names of these variables, the values in the Flag and Flag Description columns are directly related - Flag Description describes the notation in the Flag column. It looks as if these variables provide information about the source of the data in each relevant observation. In the interest of managing fewer variables while also not wanting to lose important context, let's drop Flag and keep the Flag Description variable. </span>
<span id="cb42-75"><a href="#cb42-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-76"><a href="#cb42-76" aria-hidden="true" tabindex="-1"></a>But before we remove any columns, let's take a closer look at the relationship between the *Element*, *Value* and *Unit* variables. We assume that Unit describes the unit of measurement for the quantities in the Value column. We can use the <span class="in">`group_by()`</span> and <span class="in">`count()`</span> function to explore the relationship between Element and Unit.</span>
<span id="cb42-77"><a href="#cb42-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-80"><a href="#cb42-80" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-81"><a href="#cb42-81" aria-hidden="true" tabindex="-1"></a>variableCheck <span class="ot">&lt;-</span> FAOCD <span class="sc">%&gt;%</span> </span>
<span id="cb42-82"><a href="#cb42-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Element) <span class="sc">%&gt;%</span> </span>
<span id="cb42-83"><a href="#cb42-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Unit</span><span class="st">`</span>)</span>
<span id="cb42-84"><a href="#cb42-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-85"><a href="#cb42-85" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(variableCheck, <span class="dv">10</span>)</span>
<span id="cb42-86"><a href="#cb42-86" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-87"><a href="#cb42-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-88"><a href="#cb42-88" aria-hidden="true" tabindex="-1"></a>It looks as if there are three values repeated in the Element column: Milk Animals, Production, and Yield. And each of these values corresponds to a particular Unit: Head, tonnes, and hg/An, respectively. Because of this relationship, if we'd like to reduce the number of variables we're dealing with we could create columns for each Element, and note the unit in the column name, rather than have a separate column for this information. </span>
<span id="cb42-89"><a href="#cb42-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-90"><a href="#cb42-90" aria-hidden="true" tabindex="-1"></a>First, let's use the <span class="in">`select()`</span> function to create a new dataframe that removes all of the columns we have decided we don't need:  the columns with "Code" in the name, the columns with only one value throughout the dataset, the Flag column, and finally the Unit column. We'll use <span class="in">`head()`</span> to check out our new dataframe.</span>
<span id="cb42-91"><a href="#cb42-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-94"><a href="#cb42-94" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-95"><a href="#cb42-95" aria-hidden="true" tabindex="-1"></a>FAOCD_subset <span class="ot">&lt;-</span> <span class="fu">select</span>(FAOCD, Area, Element, Year, Value, <span class="st">`</span><span class="at">Flag Description</span><span class="st">`</span>)</span>
<span id="cb42-96"><a href="#cb42-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-97"><a href="#cb42-97" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_subset)</span>
<span id="cb42-98"><a href="#cb42-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-99"><a href="#cb42-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-100"><a href="#cb42-100" aria-hidden="true" tabindex="-1"></a>Now let's use <span class="in">`pivot_wider()`</span> to create columns for each of the values listed in the Elements column. Then we can use the <span class="in">`rename()`</span> function to rename each of those columns to specify the unit (originally stored in the Unit column). We'll use <span class="in">`head()`</span> to take a look at the final dataframe.</span>
<span id="cb42-101"><a href="#cb42-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-104"><a href="#cb42-104" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-105"><a href="#cb42-105" aria-hidden="true" tabindex="-1"></a>FAOCD_Pivot <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(FAOCD_subset, <span class="at">names_from=</span>Element, <span class="at">values_from =</span> Value)</span>
<span id="cb42-106"><a href="#cb42-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-107"><a href="#cb42-107" aria-hidden="true" tabindex="-1"></a>FAOCD_Tidy <span class="ot">&lt;-</span> <span class="fu">rename</span>(FAOCD_Pivot, <span class="st">"Milk Animals (Head)"</span> <span class="ot">=</span> <span class="st">"Milk Animals"</span>, <span class="st">"Yield (hg/An)"</span> <span class="ot">=</span> <span class="st">"Yield"</span>, <span class="st">"Production (tonnes)"</span> <span class="ot">=</span> <span class="st">"Production"</span>)</span>
<span id="cb42-108"><a href="#cb42-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-109"><a href="#cb42-109" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_Tidy)</span>
<span id="cb42-110"><a href="#cb42-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-111"><a href="#cb42-111" aria-hidden="true" tabindex="-1"></a>Now that we've transformed our data and made it easier to deal with, we can begin the analysis and exploration of the data itself.</span>
<span id="cb42-112"><a href="#cb42-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-113"><a href="#cb42-113" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data exploration and analysis</span></span>
<span id="cb42-114"><a href="#cb42-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-115"><a href="#cb42-115" aria-hidden="true" tabindex="-1"></a>Let's get a sense of the data we have in this new dataframe with the <span class="in">`glimpse()`</span> function.</span>
<span id="cb42-116"><a href="#cb42-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-119"><a href="#cb42-119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-120"><a href="#cb42-120" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(FAOCD_Tidy)</span>
<span id="cb42-121"><a href="#cb42-121" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-122"><a href="#cb42-122" aria-hidden="true" tabindex="-1"></a>Note that we went from over 36,000 rows to just over 27,000, and 14 columns to 6. </span>
<span id="cb42-123"><a href="#cb42-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-124"><a href="#cb42-124" aria-hidden="true" tabindex="-1"></a>The variables we have remaining include four double (numeric) variables, including *Year*, and the three variables we transformed using `pivot_wider()`: *Milk Animals (Head)*, *Yield (hg/An)*, and *Production (tonnes)*. Presumably this data describes the quantity of these elements (Milk Animals, Yield and Production) for each indicated year and region. Let's use the <span class="in">`range()`</span> function to see what time period this data covers.</span>
<span id="cb42-125"><a href="#cb42-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-128"><a href="#cb42-128" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-129"><a href="#cb42-129" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(FAOCD_Tidy<span class="sc">$</span>Year)</span>
<span id="cb42-130"><a href="#cb42-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-131"><a href="#cb42-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-132"><a href="#cb42-132" aria-hidden="true" tabindex="-1"></a>This data covers a little less than the past 60 years or so, with the last 5 years (since 2018) not included.</span>
<span id="cb42-133"><a href="#cb42-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-134"><a href="#cb42-134" aria-hidden="true" tabindex="-1"></a>This dataframe also includes two character variables, *Area* and *Flag Description*. We have already discussed what the Flag Description variable tells us; since we're interested in comparing across countries and regions, let's use the `unique()` function to see what is in the *Area* column.</span>
<span id="cb42-135"><a href="#cb42-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-138"><a href="#cb42-138" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-139"><a href="#cb42-139" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(FAOCD_Tidy<span class="sc">$</span>Area)</span>
<span id="cb42-140"><a href="#cb42-140" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-141"><a href="#cb42-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-142"><a href="#cb42-142" aria-hidden="true" tabindex="-1"></a>Without going through this list exhaustively, it looks as if this variable contains all countries in the world, some historic geopolitical areas (such as "Sudan (former)" or "USSR") and larger regions of the world (such as "World", "Africa", and subsets of continents, such as "Caribbean", "Central Asia", etc.). </span>
<span id="cb42-143"><a href="#cb42-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-144"><a href="#cb42-144" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Cattle and dairy production by continent</span></span>
<span id="cb42-145"><a href="#cb42-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-146"><a href="#cb42-146" aria-hidden="true" tabindex="-1"></a>Let's first explore what this data can tell us about cattle and dairy production as a high level, let's create a dataframe with just the continents, using the <span class="in">`filter()`</span> function. We'll use the <span class="in">`table()`</span> function to check out how many observations we have for each continent in our resulting dataframe.</span>
<span id="cb42-147"><a href="#cb42-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-150"><a href="#cb42-150" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-151"><a href="#cb42-151" aria-hidden="true" tabindex="-1"></a>FAOCD_Continents <span class="ot">&lt;-</span> FAOCD_Tidy <span class="sc">%&gt;%</span> </span>
<span id="cb42-152"><a href="#cb42-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Area <span class="sc">==</span> <span class="st">"Oceania"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Europe"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Asia"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"South America"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Northern America"</span> <span class="sc">|</span> Area <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb42-153"><a href="#cb42-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-154"><a href="#cb42-154" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(FAOCD_Continents<span class="sc">$</span>Area)</span>
<span id="cb42-155"><a href="#cb42-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-156"><a href="#cb42-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-157"><a href="#cb42-157" aria-hidden="true" tabindex="-1"></a>Let's take a look at the continents with the highest level of mean production since 2010, as well as the standard deviation and the median. To be able to better compare standard deviations across different continents, let's calculate a standard deviation proportion variable, which will show the standard deviation as a proportion of the mean. We can use the <span class="in">`filter()`</span>, <span class="in">`group_by()`</span>, <span class="in">`summarize()`</span>, and <span class="in">`arrange()`</span> functions to create this table.</span>
<span id="cb42-158"><a href="#cb42-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-159"><a href="#cb42-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-162"><a href="#cb42-162" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-163"><a href="#cb42-163" aria-hidden="true" tabindex="-1"></a>FAOCD_Continents_Since2010 <span class="ot">&lt;-</span> FAOCD_Continents <span class="sc">%&gt;%</span> </span>
<span id="cb42-164"><a href="#cb42-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-165"><a href="#cb42-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Area) <span class="sc">%&gt;%</span> </span>
<span id="cb42-166"><a href="#cb42-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Mean Production"</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb42-167"><a href="#cb42-167" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Standard Deviation of Production"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-168"><a href="#cb42-168" aria-hidden="true" tabindex="-1"></a>            <span class="st">"SD Proportion"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-169"><a href="#cb42-169" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Median Production"</span> <span class="ot">=</span> <span class="fu">median</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb42-170"><a href="#cb42-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Mean Production</span><span class="st">`</span>))</span>
<span id="cb42-171"><a href="#cb42-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-172"><a href="#cb42-172" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_Continents_Since2010, <span class="dv">10</span>)</span>
<span id="cb42-173"><a href="#cb42-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-174"><a href="#cb42-174" aria-hidden="true" tabindex="-1"></a>This table shows that since 2010 Europe has had the highest mean production levels, followed by Asia and Northern America. Europe also has the highest median production levels. It is interesting to note that the standard deviation is highest for Asia, indicating that production levels vary more each year in Asia than they do in the other continents. </span>
<span id="cb42-175"><a href="#cb42-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-176"><a href="#cb42-176" aria-hidden="true" tabindex="-1"></a>To get a sense of how things have changed, let's take a look at the same metrics before 1980.</span>
<span id="cb42-177"><a href="#cb42-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-180"><a href="#cb42-180" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-181"><a href="#cb42-181" aria-hidden="true" tabindex="-1"></a>FAOCD_Continents_Before1980 <span class="ot">&lt;-</span> FAOCD_Continents <span class="sc">%&gt;%</span> </span>
<span id="cb42-182"><a href="#cb42-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&lt;</span> <span class="dv">1980</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-183"><a href="#cb42-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Area) <span class="sc">%&gt;%</span> </span>
<span id="cb42-184"><a href="#cb42-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Mean Production"</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb42-185"><a href="#cb42-185" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Standard Deviation of Production"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-186"><a href="#cb42-186" aria-hidden="true" tabindex="-1"></a>            <span class="st">"SD Proportion"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-187"><a href="#cb42-187" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Median Production"</span> <span class="ot">=</span> <span class="fu">median</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb42-188"><a href="#cb42-188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Mean Production</span><span class="st">`</span>))</span>
<span id="cb42-189"><a href="#cb42-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-190"><a href="#cb42-190" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_Continents_Before1980, <span class="dv">10</span>)</span>
<span id="cb42-191"><a href="#cb42-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-192"><a href="#cb42-192" aria-hidden="true" tabindex="-1"></a>This table shows data from 1961 to 1979, more than 30 years earlier than the data from the previous table we looked at (data since 2010). While most of the continents are ranked similarly to how they are in the more recent data, this new table shows us that North America used to produce more on average than Asia, and that Oceania used to produce more on average than Africa. In this dataset most of the continents have a higher standard deviation than they do in the more recent dataset, indicating that the variability of production over the years was higher back then than it has been in recent years.</span>
<span id="cb42-193"><a href="#cb42-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-194"><a href="#cb42-194" aria-hidden="true" tabindex="-1"></a>Finally, let's take a closer look at the larger dataset that includes countries, to see which countries have higher mean production levels in recent years. While we won't try to do an exhaustive cleaning of this data for this assignment, let's at least remove some of the higher level geographical observations in the Area variable, including "World" and the continents, so it's easier to focus on the countries in our analysis. </span>
<span id="cb42-195"><a href="#cb42-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-198"><a href="#cb42-198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-199"><a href="#cb42-199" aria-hidden="true" tabindex="-1"></a>FAOCD_PrimarilyCountries <span class="ot">&lt;-</span> FAOCD_Tidy <span class="sc">%&gt;%</span> </span>
<span id="cb42-200"><a href="#cb42-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Area <span class="sc">!=</span> <span class="st">"World"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Oceania"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Europe"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Asia"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"South America"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Northern America"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Africa"</span> <span class="sc">&amp;</span> Area <span class="sc">!=</span> <span class="st">"Americas"</span>)</span>
<span id="cb42-201"><a href="#cb42-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span> </span>
<span id="cb42-202"><a href="#cb42-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-203"><a href="#cb42-203" aria-hidden="true" tabindex="-1"></a>Let's check out the countries and smaller regions with the highest mean production levels. We'll use the <span class="in">`filter()`</span>, <span class="in">`group_by()`</span>, <span class="in">`summarize()`</span>, and <span class="in">`arrange()`</span> functions to create this table.</span>
<span id="cb42-204"><a href="#cb42-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-207"><a href="#cb42-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-208"><a href="#cb42-208" aria-hidden="true" tabindex="-1"></a>FAOCD_PrimarilyCountries_Since2010 <span class="ot">&lt;-</span> FAOCD_PrimarilyCountries <span class="sc">%&gt;%</span> </span>
<span id="cb42-209"><a href="#cb42-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-210"><a href="#cb42-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Area) <span class="sc">%&gt;%</span> </span>
<span id="cb42-211"><a href="#cb42-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Mean Production"</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb42-212"><a href="#cb42-212" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Standard Deviation of Production"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-213"><a href="#cb42-213" aria-hidden="true" tabindex="-1"></a>            <span class="st">"SD Proportion"</span> <span class="ot">=</span> <span class="fu">sd</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-214"><a href="#cb42-214" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Median Production"</span> <span class="ot">=</span> <span class="fu">median</span>(<span class="st">`</span><span class="at">Production (tonnes)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb42-215"><a href="#cb42-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Mean Production</span><span class="st">`</span>))</span>
<span id="cb42-216"><a href="#cb42-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-217"><a href="#cb42-217" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(FAOCD_PrimarilyCountries_Since2010, <span class="dv">10</span>)</span>
<span id="cb42-218"><a href="#cb42-218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-219"><a href="#cb42-219" aria-hidden="true" tabindex="-1"></a>Unsurprisingly, there are a lot of smaller geographical regions showing up at the top of this list. If we had more time we would thoroughly clean this data by comparing the list of countries in the Area column to a list of current countries in the world and remove all values that didn't match. But for now we can still see that there are a few countries showing up even in this list of the top ten, including the United States, India, mainland China, and Brazil. India looks to have a considerably higher standard deviation than the other countries on this list. </span>
<span id="cb42-220"><a href="#cb42-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-221"><a href="#cb42-221" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusion and further research</span></span>
<span id="cb42-222"><a href="#cb42-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-223"><a href="#cb42-223" aria-hidden="true" tabindex="-1"></a>As noted several times in this analysis, with more time I would more thoroughly clean the Area variable, so that we could more easily create tables focused on just countries, geographical regions, or continents. I also did not research the original dataset as thoroughly as I would have liked to, which would provide more information about each variable (specifically the Milk Animals, Production, and Yield) and provide more nuance to these findings. </span>
<span id="cb42-224"><a href="#cb42-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-225"><a href="#cb42-225" aria-hidden="true" tabindex="-1"></a>There are so many different ways you could explore this data! Another area that would be worth exploring is the change over time of production and how this varies across countries and regions. Visualization could be used to better illustrate any patterns and trends discovered in the data. </span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>