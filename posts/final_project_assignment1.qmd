---
title: "Final Project Assignment#1: Kevin Martell Luya"
author: "Kevin Martell Luya"
description: "Project & Data Description"
date: "04/25/2023"
format:
  html:
    df-print: paged
    toc: true
    code-copy: true
    code-tools: true
    css: styles.css
categories:
  - final_Project_assignment_1
  - final_project_data_description
editor_options: 
  chunk_output_type: console
editor: 
  markdown: 
    wrap: 72
---

```{r}
#| label: setup
#| warning: false
#| message: false

library(tidyverse)
library(ggplot2)
library(here)
library(mosaic)
library(lubridate)
library(stringr)

knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)
```

## Part 1. Introduction {#describe-the-data-sets}



Data.world is a platform for data collaboration, analysis, and sharing
designed to help teams and organizations discover, use, and publish
high-quality data in different contexts such as sports. Sports are a fundamental aspect of human culture and have been practiced for thousands of years. They provide a platform for physical activity, competition, and entertainment. Swimming is one of the many sports that have gained popularity around the world due to its many health benefits and its inclusion in major international events like the Olympics. Swimming features a variety of events, including freestyle, breaststroke, backstroke, and butterfly. The world records for each event are continually being broken by exceptional athletes who push the limits of human performance.

The swimming events at the Olympic Games are a highly anticipated
competition featuring some of the world's top athletes. Swimmers compete
in a variety of disciplines, including freestyle, breaststroke,
backstroke, butterfly, and medley, with races ranging from 50 meters to
1500 meters. Because analyzing a vast number of swimming history records it is 
of the scope of this paper, we will focusn on The top 200 time swimming styles 
and answer the following research questions:

   
    1.Are there any patterns or trends in the progression of swimming
    world records over time? For example, are records being broken more
    frequently in certain events or during certain time periods?

    2.Is there a relationship between a swimmer's age, gender, or
    nationality and their likelihood of breaking a world record? For
    example, do younger or older swimmers tend to break records more
    often than their peers?

    3.How do different strokes or distances compare in terms of the
    frequency and magnitude of world record breaking? For example, are
    world records more likely to be broken in shorter or longer races,
    or in certain stroke categories?

    4.Have advancements in technology or changes in swimming equipment
    had an impact on the frequency or magnitude of world record
    breaking? For example, have swimsuits or other equipment innovations
    led to more world records being broken in recent years?

    5.What are some possible explanations for all of this questions that could beyond the swimming context?
    country related varaible - GDP

## Part 2. Describe the data set(s) {#describe-the-data-sets-1}


Top 200 times in swimming styles includes details such as the event names, swim times, and swim dates for each swimmer's performance, as well as information about the team they represent, their full name, gender, birth date, rank order, city, country code, and duration of their swim. In this datase each row representing a different swimmer and each column containing a specific piece of information about that swimmer's performance. The data appears to be sourced from various international swimming competitions, including the Olympic Games, the FINA World Championships, and national championships in different countries.
This dataset could be used to analyze trends in the Men's 100 Freestyle event over time, such as changes in performance or the dominance of certain countries or swimmers. It could also be used to compare and contrast the performance of different swimmers or teams across various competitions.



1.  Read the dataset
```{r}
df_swim<- read_csv("./datasets/Swimming database 2 2.csv")
df_swim
```

2.  Present the descriptive information of the dataset(s) 

This data set has records from 716 different swimmers from around the world who 
participated in 474 events at different times in history .
```{r}
dim(df_swim)
length(unique(df_swim$`Event Name`))
length(unique(df_swim$`Team Name`))
length(unique(df_swim$`Athlete Full Name`))
table(df_swim$`Event description`)
head(df_swim)
```


3.  Conduct summary statistics of the dataset adn for the variable Swim time.
```{r}

df_swim <- df_swim %>%
  mutate(
    #`Event Name` = factor(`Event Name`),
    #`Swim time` = factor(`Swim time`),
    #`Swim date` = factor(`Swim date`),
    `Event description` = factor(`Event description`),
    `Team Code` = factor(`Team Code`),
    `Team Name` = factor(`Team Name`),
    `Athlete Full Name` = factor(`Athlete Full Name`),
    `Gender` = factor(`Gender`),
    `Athlete birth date` = factor(`Athlete birth date`),
    `Rank_Order` = factor(`Rank_Order`),
    `City` = factor(`City`),
    `Country Code` = factor(`Country Code`),
    #`Duration (hh:mm:ss:ff)` = factor(`Duration (hh:mm:ss:ff)`)
  )

summary(df_swim)
fav_stats(df_swim$`Swim time`)

```
    
Let's visualize the average time por country from the top 200 time in swimming styles.
```{r}
ggplot(df_swim, aes(`Team Code`, (`Swim time`))) + 
  geom_bar(stat = "identity") + 
  coord_flip()
```

To answer the first research question. we need to know the year of the event when it took place. Let's extract the year of the event name using the stringr library 
```{r}

# extracting the year of the event name using regex
years <- str_extract_all(df_swim$`Event Name`, "\\d{4}", simplify = T)
df_event_years <- as.data.frame(years)
names(df_event_years) <- c("event_year")

# concatenating the event_year column to our master data set
df_swim$event_year = df_event_years

# sanity check
head(df_swim)
```

Let's show how the performance of the top 200 swimming styles in 100-meters free style
have progressed in time per country.

```{r}




```


## 3. The Tentative Plan for Visualization {#the-tentative-plan-for-visualization}

1.  Briefly describe what data analyses (**please the special note on
    statistics in the next section)** and visualizations you plan to
    conduct to answer the research questions you proposed above.

2.  Explain why you choose to conduct these specific data analyses and
    visualizations. In other words, how do such types of statistics or
    graphs (see [the R Gallery](https://r-graph-gallery.com/)) help you
    answer specific questions? For example, how can a bivariate
    visualization reveal the relationship between two variables, or how
    does a linear graph of variables over time present the pattern of
    development?

3.  If you plan to conduct specific data analyses and visualizations,
    describe how do you need to process and prepare the tidy data.

    -   What do you need to do to mutate the datasets (convert date
        data, create a new variable, pivot the data format, etc.)?

    -   How are you going to deal with the missing data/NAs and
        outliers? And why do you choose this way to deal with NAs?

4.  (Optional) It is encouraged, **but optional**, to include a coding
    component of tidy data in this part.

## References

    - For reference, you can check out [the source of the dataset](https://data.world/romanian-data/swimming-dataset-top-200-world-times)
